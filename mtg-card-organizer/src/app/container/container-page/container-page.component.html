<div class="padded-page">
  <app-page-header></app-page-header>
  <app-title-and-trail [title]="'Container - ' + container.name">
    <button [matMenuTriggerFor]="collectionMenu" class="options-button mat-elevation-z4"
      mat-icon-button matTooltip="Settings">
      <mat-icon>settings</mat-icon>
    </button>

    <button class="options-button mat-elevation-z4"
      (click)="toggleBookmark()"
      mat-icon-button matTooltip="Toggle Bookmark">
      <mat-icon>{{ container.isBookmarked ? 'bookmark' : 'bookmark_border' }}</mat-icon>
    </button>
  </app-title-and-trail>

  <mat-menu #collectionMenu="matMenu">
    <button *ngIf="container.permission === permissions.Admin" mat-menu-item (click)="openPermissions()">Permissions</button>
    <button mat-menu-item (click)="openImport()">Import</button>
    <button mat-menu-item (click)="openExport()">Export</button>
  </mat-menu>

  <div fxLayout="row" fxLayoutGap="10px">
    <app-sub-container-list [containers]="container.subContainers" (containerInvalidated)="refresh()" (addClicked)="createContainer()"></app-sub-container-list>
    <app-collection-list [collections]="container.collections" (containerInvalidated)="refresh()" (addClicked)="createCollection()"></app-collection-list>
    <app-deck-list [decks]="container.decks" (containerInvalidated)="refresh()" (addClicked)="createDeck()"></app-deck-list>
  </div>
</div>

<mco-default-page [title]="'Collection - ' + collection.name">
  <div mcoPageExtraHeader fxFlex fxLayoutAlign="space-between center">
    <button class="options-button mat-elevation-z2"
      (click)="toggleBookmark()"
      mat-icon-button matTooltip="Toggle Bookmark">
      <mat-icon>{{ collection.isBookmarked ? 'bookmark' : 'bookmark_border' }}</mat-icon>
    </button>

    <div class="mat-elevation-z2">
      <mat-button-toggle-group name="fontStyle" class="toggle-group" [(ngModel)]="mode">
        <mat-button-toggle value="view">View</mat-button-toggle>
        <mat-button-toggle value="filter">Filter</mat-button-toggle>
        <mat-button-toggle value="fastAdd">Fast Add</mat-button-toggle>
      </mat-button-toggle-group>
    </div>
  </div>

  <div fxLayout="row" fxLayoutGap="20px">
    <mco-card-filter *ngIf="mode === 'filter'" (filterChanged)="filter = $event"></mco-card-filter>
    <mco-card-rapid-entry fxFlex *ngIf="mode === 'fastAdd'" (searched)="refreshDataSource()" [collection]="collection"></mco-card-rapid-entry>

    <mco-card fxFlex contentPadding="0px">
      <mco-card-instance-grid
        [filter]="filter"
        [displayedColumns]="['name', 'setSymbol', 'manaCost', 'power', 'toughness', 'foil', 'promo', 'actions']"
        [wrappedService]="wrappedService"
        (rowSelected)="cardInstanceSelected($event)">

        <ng-container matColumnDef="actions">
          <mat-header-cell class="crud-grid-action-column" *matHeaderCellDef></mat-header-cell>
          <mat-cell class="crud-grid-action-column" *matCellDef="let record">
            <button mat-icon-button (click)="$event.stopPropagation(); removeFromCollection(record)">
              <mat-icon>highlight_off</mat-icon>
            </button>
          </mat-cell>
        </ng-container>
      </mco-card-instance-grid>
    </mco-card>
  </div>
</mco-default-page>

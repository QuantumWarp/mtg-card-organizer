<mco-default-page [title]="'Collection - ' + collection.name">
  <div mcoPageExtraHeader fxFlex fxLayoutAlign="space-between center">
    <button class="options-button mat-elevation-z2"
      (click)="toggleBookmark()"
      mat-icon-button matTooltip="Toggle Bookmark">
      <mat-icon>{{ collection.isBookmarked ? 'bookmark' : 'bookmark_border' }}</mat-icon>
    </button>

    <div fxLayoutGap="5px">
      <button mat-raised-button (click)="openFilter()">Filter</button>
      <button mat-raised-button (click)="openRapidEntry()">Add</button>
    </div>
  </div>

  <mco-card fxFlex contentPadding="0px">
    <mco-variable-grid #grid
      [filter]="filter"
      [extraColumns]="['actions']"
      [displayedColumns]="['count', 'name', 'setSymbol', 'manaCost', 'type', 'pt', 'foil']"
      (rowSelected)="rowSelected($event)">

      <ng-container matColumnDef="actions">
        <mat-header-cell class="crud-grid-action-column" *matHeaderCellDef></mat-header-cell>
        <mat-cell class="crud-grid-action-column" *matCellDef="let record">
          <button *ngIf="grid.gridMode === 'cardInstance'" mat-icon-button (click)="$event.stopPropagation(); removeFromCollection(grid.convert(record))">
            <mat-icon>highlight_off</mat-icon>
          </button>
        </mat-cell>
      </ng-container>
    </mco-variable-grid>
  </mco-card>
</mco-default-page>

<div class="padded-page">
  <app-page-header></app-page-header>
  <app-title-and-trail [title]="collection.name">
    <mat-button-toggle-group name="fontStyle" class="toggle-group" [(ngModel)]="mode">
      <mat-button-toggle value="view">View</mat-button-toggle>
      <mat-button-toggle value="filter">Filter</mat-button-toggle>
      <mat-button-toggle value="fastAdd">Fast Add</mat-button-toggle>
    </mat-button-toggle-group>
  </app-title-and-trail>

  <div fxLayout="row" fxLayoutGap="20px">
    <app-card-filter *ngIf="mode === 'filter'" (filterChanged)="filter = $event"></app-card-filter>
    <app-card-rapid-entry *ngIf="mode === 'fastAdd'" (searched)="grid.basicGrid.dataSource.refresh()" [collection]="collection"></app-card-rapid-entry>

    <app-card-instance-grid fxFlex
      [filter]="filter"
      [displayedColumns]="['name', 'setSymbol', 'manaCost', 'foil', 'promo']"
      [cardService]="collectionCardServiceWrapper"
      (cardInstanceSelected)="cardInstanceSelected($event)">
    </app-card-instance-grid>
  </div>
</div>
